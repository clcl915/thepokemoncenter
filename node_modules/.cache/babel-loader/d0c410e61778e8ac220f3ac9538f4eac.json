{"ast":null,"code":"var _jsxFileName = \"/Users/cindyli/Downloads/pokemon2/my-app/src/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Pokemon from \"./components/Pokemon\";\nimport useFetch from \"./useFetch\";\nimport enterView from \"enter-view\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const [error, setError] = useState(null);\n  const [isLoading, setLoading] = useState(true);\n  const [allPokemon, setPokemon] = useState([]);\n  const [loadMore, setLoadMore] = useState(\"https://pokeapi.co/api/v2/pokemon/?limit=30\");\n  const [next30, setnext30] = useState();\n\n  const getPokemons = async () => {\n    try {\n      const res = await axios.get(loadMore);\n      console.log(res);\n\n      if (res.status != 200) {\n        throw Error(\"could not fetch data\");\n      }\n\n      const data = await res.data; // console.log(\"line22 \", data)\n\n      setnext30(data.next);\n      setLoading(false);\n      setError(null);\n      setnext30(data.next);\n\n      function createPokemonObject(result) {\n        result.forEach(async pokemon => {\n          const res = await axios.get(pokemon.url);\n          const data = await res.data;\n          setPokemon(currentList => {\n            currentList = [...currentList, data];\n            currentList.sort((a, b) => a.id > b.id ? 1 : -1);\n            return currentList;\n          });\n        });\n      }\n\n      createPokemonObject(data.results);\n      await console.log(allPokemon);\n      await console.log(data);\n    } catch (err) {\n      setLoading(false);\n      setError(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getPokemons();\n  }, [loadMore]);\n  enterView({\n    selector: \".pokemonContainer\",\n    enter: function (el) {\n      el.classList.add('entered');\n      console.log(\"entered\");\n      setLoadMore(next30);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: allPokemon && allPokemon.map((pokemon, index) => /*#__PURE__*/_jsxDEV(Pokemon, {\n        id: pokemon.id,\n        name: pokemon.name,\n        frontImage: pokemon.sprites.front_default,\n        shinyImage: pokemon.sprites.back_default,\n        type: pokemon.types[0].type.name\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Home, \"0Qplz4xqOnE7yu1Jn94BrXWQqy8=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","Pokemon","useFetch","enterView","Home","error","setError","isLoading","setLoading","allPokemon","setPokemon","loadMore","setLoadMore","next30","setnext30","getPokemons","res","get","console","log","status","Error","data","next","createPokemonObject","result","forEach","pokemon","url","currentList","sort","a","b","id","results","err","message","selector","enter","el","classList","add","textAlign","map","index","name","sprites","front_default","back_default","types","type"],"sources":["/Users/cindyli/Downloads/pokemon2/my-app/src/Home.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Pokemon from \"./components/Pokemon\";\nimport useFetch from \"./useFetch\";\nimport enterView from \"enter-view\";\n\nexport default function Home() {\n  const [error, setError] = useState(null);\n  const [isLoading, setLoading] = useState(true);\n  const [allPokemon, setPokemon] = useState([]);\n  const [loadMore, setLoadMore] = useState(\n    \"https://pokeapi.co/api/v2/pokemon/?limit=30\"\n  );\n  const [next30, setnext30] = useState();\n\n  const getPokemons = async () => {\n    try {\n      const res = await axios.get(loadMore);\n      console.log(res);\n      if (res.status != 200) {\n        throw Error(\"could not fetch data\");\n      }\n\n      const data = await res.data;\n      // console.log(\"line22 \", data)\n      setnext30(data.next);\n      setLoading(false);\n      setError(null);\n      setnext30(data.next);\n\n      function createPokemonObject(result) {\n        result.forEach(async (pokemon) => {\n          const res = await axios.get(pokemon.url);\n          const data = await res.data;\n          setPokemon((currentList) => {\n            currentList = [...currentList, data];\n            currentList.sort((a, b) => (a.id > b.id ? 1 : -1));\n            return currentList;\n          });\n        });\n      }\n      createPokemonObject(data.results);\n      await console.log(allPokemon);\n      await console.log(data);\n    } catch (err) {\n      setLoading(false);\n      setError(err.message);\n    }\n  };\n  \n  useEffect(() => {\n    getPokemons();\n    \n  }, [loadMore]);\n  enterView({\n    selector: \".pokemonContainer\",\n    enter: function (el) {\n      el.classList.add('entered');\n      console.log(\"entered\")\n      setLoadMore(next30)\n    }\n  });\n  \n  return (\n    <>\n      {error && <div>{error}</div>}\n      {isLoading && <div style={{ textAlign: \"center\" }}>Loading...</div>}\n      <div className=\"container\">\n        {allPokemon &&\n          allPokemon.map((pokemon, index) => (\n            <Pokemon\n              id={pokemon.id}\n              name={pokemon.name}\n              frontImage={pokemon.sprites.front_default}\n              shinyImage={pokemon.sprites.back_default}\n              type={pokemon.types[0].type.name}\n              key={index}\n            ></Pokemon>\n          ))}\n      </div>\n      {/* {!isLoading && (\n        <button className=\"load-more\" onClick={() => setLoadMore(next30)}>\n          Load More\n        </button>\n      )} */}\n    </>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;;AAEA,eAAe,SAASC,IAAT,GAAgB;EAAA;;EAC7B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM,CAACU,SAAD,EAAYC,UAAZ,IAA0BX,QAAQ,CAAC,IAAD,CAAxC;EACA,MAAM,CAACY,UAAD,EAAaC,UAAb,IAA2Bb,QAAQ,CAAC,EAAD,CAAzC;EACA,MAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CACtC,6CADsC,CAAxC;EAGA,MAAM,CAACgB,MAAD,EAASC,SAAT,IAAsBjB,QAAQ,EAApC;;EAEA,MAAMkB,WAAW,GAAG,YAAY;IAC9B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMhB,KAAK,CAACiB,GAAN,CAAUN,QAAV,CAAlB;MACAO,OAAO,CAACC,GAAR,CAAYH,GAAZ;;MACA,IAAIA,GAAG,CAACI,MAAJ,IAAc,GAAlB,EAAuB;QACrB,MAAMC,KAAK,CAAC,sBAAD,CAAX;MACD;;MAED,MAAMC,IAAI,GAAG,MAAMN,GAAG,CAACM,IAAvB,CAPE,CAQF;;MACAR,SAAS,CAACQ,IAAI,CAACC,IAAN,CAAT;MACAf,UAAU,CAAC,KAAD,CAAV;MACAF,QAAQ,CAAC,IAAD,CAAR;MACAQ,SAAS,CAACQ,IAAI,CAACC,IAAN,CAAT;;MAEA,SAASC,mBAAT,CAA6BC,MAA7B,EAAqC;QACnCA,MAAM,CAACC,OAAP,CAAe,MAAOC,OAAP,IAAmB;UAChC,MAAMX,GAAG,GAAG,MAAMhB,KAAK,CAACiB,GAAN,CAAUU,OAAO,CAACC,GAAlB,CAAlB;UACA,MAAMN,IAAI,GAAG,MAAMN,GAAG,CAACM,IAAvB;UACAZ,UAAU,CAAEmB,WAAD,IAAiB;YAC1BA,WAAW,GAAG,CAAC,GAAGA,WAAJ,EAAiBP,IAAjB,CAAd;YACAO,WAAW,CAACC,IAAZ,CAAiB,CAACC,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACE,EAAF,GAAOD,CAAC,CAACC,EAAT,GAAc,CAAd,GAAkB,CAAC,CAA/C;YACA,OAAOJ,WAAP;UACD,CAJS,CAAV;QAKD,CARD;MASD;;MACDL,mBAAmB,CAACF,IAAI,CAACY,OAAN,CAAnB;MACA,MAAMhB,OAAO,CAACC,GAAR,CAAYV,UAAZ,CAAN;MACA,MAAMS,OAAO,CAACC,GAAR,CAAYG,IAAZ,CAAN;IACD,CA5BD,CA4BE,OAAOa,GAAP,EAAY;MACZ3B,UAAU,CAAC,KAAD,CAAV;MACAF,QAAQ,CAAC6B,GAAG,CAACC,OAAL,CAAR;IACD;EACF,CAjCD;;EAmCArC,SAAS,CAAC,MAAM;IACdgB,WAAW;EAEZ,CAHQ,EAGN,CAACJ,QAAD,CAHM,CAAT;EAIAR,SAAS,CAAC;IACRkC,QAAQ,EAAE,mBADF;IAERC,KAAK,EAAE,UAAUC,EAAV,EAAc;MACnBA,EAAE,CAACC,SAAH,CAAaC,GAAb,CAAiB,SAAjB;MACAvB,OAAO,CAACC,GAAR,CAAY,SAAZ;MACAP,WAAW,CAACC,MAAD,CAAX;IACD;EANO,CAAD,CAAT;EASA,oBACE;IAAA,WACGR,KAAK,iBAAI;MAAA,UAAMA;IAAN;MAAA;MAAA;MAAA;IAAA,QADZ,EAEGE,SAAS,iBAAI;MAAK,KAAK,EAAE;QAAEmC,SAAS,EAAE;MAAb,CAAZ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFhB,eAGE;MAAK,SAAS,EAAC,WAAf;MAAA,UACGjC,UAAU,IACTA,UAAU,CAACkC,GAAX,CAAe,CAAChB,OAAD,EAAUiB,KAAV,kBACb,QAAC,OAAD;QACE,EAAE,EAAEjB,OAAO,CAACM,EADd;QAEE,IAAI,EAAEN,OAAO,CAACkB,IAFhB;QAGE,UAAU,EAAElB,OAAO,CAACmB,OAAR,CAAgBC,aAH9B;QAIE,UAAU,EAAEpB,OAAO,CAACmB,OAAR,CAAgBE,YAJ9B;QAKE,IAAI,EAAErB,OAAO,CAACsB,KAAR,CAAc,CAAd,EAAiBC,IAAjB,CAAsBL;MAL9B,GAMOD,KANP;QAAA;QAAA;QAAA;MAAA,QADF;IAFJ;MAAA;MAAA;MAAA;IAAA,QAHF;EAAA,gBADF;AAwBD;;GAjFuBxC,I;;KAAAA,I"},"metadata":{},"sourceType":"module"}