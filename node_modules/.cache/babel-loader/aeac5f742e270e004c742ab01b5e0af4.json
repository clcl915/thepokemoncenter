{"ast":null,"code":"var _jsxFileName = \"/Users/cindyli/Downloads/pokemon2/my-app/src/components/ShapeViz.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport useFetch from \"../useFetch\";\nimport { create } from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ShapeViz(_ref) {\n  _s();\n\n  let {\n    currentContent,\n    currentShift\n  } = _ref;\n  const svgRef = useRef();\n  const shapeSprites = [\"https://archives.bulbagarden.net/media/upload/thumb/1/17/Body01.png/32px-Body01.png\", \"https://archives.bulbagarden.net/media/upload/thumb/7/7a/Body02.png/32px-Body02.png\", \"https://archives.bulbagarden.net/media/upload/thumb/d/d3/Body03.png/32px-Body03.png\", \"https://archives.bulbagarden.net/media/upload/thumb/2/2c/Body04.png/32px-Body04.png\", \"https://archives.bulbagarden.net/media/upload/thumb/d/da/Body05.png/32px-Body05.png\", \"https://archives.bulbagarden.net/media/upload/thumb/8/88/Body06.png/32px-Body06.png\", \"https://archives.bulbagarden.net/media/upload/thumb/b/bc/Body07.png/32px-Body07.png\", \"https://archives.bulbagarden.net/media/upload/thumb/c/cc/Body08.png/32px-Body08.png\", \"https://archives.bulbagarden.net/media/upload/thumb/9/98/Body09.png/32px-Body09.png\", \"https://archives.bulbagarden.net/media/upload/thumb/9/97/Body10.png/32px-Body10.png\", \"https://archives.bulbagarden.net/media/upload/thumb/3/36/Body11.png/32px-Body11.png\", \"https://archives.bulbagarden.net/media/upload/thumb/4/45/Body12.png/32px-Body12.png\", \"https://archives.bulbagarden.net/media/upload/thumb/0/09/Body13.png/32px-Body13.png\", \"https://archives.bulbagarden.net/media/upload/thumb/4/4b/Body14.png/32px-Body14.png\"];\n  const [error, setError] = useState(null);\n  const [isLoading, setLoading] = useState(true);\n  const [shapes, setShapes] = useState([]);\n  const [allShapes, setAllShapes] = useState([]);\n  const [isLoadingEachData, setLoadingEachData] = useState(true);\n  const [isSorting, setSorting] = useState(true); // const [shiftUpCount,setShiftUpCount] = useState(1);\n\n  console.log(currentContent);\n\n  const getShapes = async () => {\n    try {\n      const res = await fetch(`https://pokeapi.co/api/v2/pokemon-shape/`);\n\n      if (!res.ok) {\n        throw Error(\"could not fetch data\");\n      }\n\n      const data = await res.json();\n\n      function getShapeCount(result) {\n        console.log(\"how many times\");\n        result.forEach(async (shape, index) => {\n          const res = await fetch(`https://pokeapi.co/api/v2/pokemon-shape/${shape.name}`);\n          const data = await res.json(); // console.log(data);\n\n          setShapes(currentList => {\n            currentList = [...currentList, {\n              name: data.name,\n              count: data.pokemon_species.length,\n              sprite: shapeSprites[index]\n            }];\n            currentList.sort((a, b) => a.count < b.count ? 1 : -1);\n            return currentList;\n          });\n        });\n        console.log(shapes);\n        setLoadingEachData(false);\n      }\n\n      getShapeCount(data.results);\n      setLoading(false);\n      setError(null);\n    } catch (err) {\n      setLoading(false);\n      setError(err.message);\n    }\n  };\n\n  useEffect(() => {\n    console.log(currentContent);\n    console.log(\"before get shapes\");\n    getShapes();\n  }, []);\n  useEffect(() => {\n    console.log(currentContent);\n\n    if (currentContent != \"noSelection\") {\n      d3.select(svgRef.current).selectAll(\".shapes\").transition().attr(\"opacity\", 1); // d3.select(svgRef.current).selectAll(`.shapes:not(${currentContent})`).transition().attr('opacity',0.4)\n\n      var notCurrent = d3.select(svgRef.current).selectAll(\".shapes\").filter(function (d, i) {\n        // console.log(d)\n        return d.name != currentContent;\n      });\n      notCurrent.each(function (d, i) {\n        d3.select(this).transition().delay(100).duration(1000).attr(\"opacity\", 0.2);\n      });\n      d3.select(svgRef.current).transition().delay(100).duration(2500).attr(\"transform\", (d, i) => {\n        return \"translate(0,\" + currentShift + \")\";\n      }); // if (currentContent == 'humanoid' || currentContent =='wings'|| currentContent =='arms'){\n      //   console.log(\"shifting\")\n      //   d3.select(svgRef.current).transition().delay(100).duration(2500).attr(\"transform\",(d,i)=>{\n      //     // console.log(d,i)\n      //     let shiftY = 200*shiftUpCount\n      //     setShiftUpCount(shiftUpCount+1)\n      //     console.log('new shift count', shiftUpCount)\n      //     return \"translate(0,-\"+shiftY+\")\"\n      //   });\n      // }\n    } else {\n      d3.select(svgRef.current).selectAll(\".shapes\").transition().attr(\"opacity\", 1);\n    }\n  }, [currentContent]);\n  useEffect(() => {\n    console.log(shapes);\n    console.log(isLoadingEachData);\n\n    if (isLoadingEachData == false && shapes.length == 14) {\n      // const sortedShapes = shapes.sort(\n      //   (a, b) => parseFloat(b.count) - parseFloat(a.count)\n      // );\n      // console.log(sortedShapes);\n      setAllShapes(shapes.reduce((acc, d) => {\n        for (let i = 0; i < d.count; i++) {\n          acc.push(d);\n        }\n\n        return acc;\n      }, []));\n      setSorting(false);\n    }\n  }, [isLoadingEachData, shapes]);\n  useEffect(() => {\n    console.log(\"making svg\");\n    console.log(allShapes); // console.log(totalShapes)\n\n    const w = 1000;\n    const h = 4000;\n    const numRows = 50;\n    const numCols = 25; //padding for the grid\n\n    var xPadding = 10;\n    var yPadding = 15; //horizontal and vertical spacing between the icons\n\n    var hBuffer = 40;\n    var wBuffer = 40;\n    const svg = d3.select(svgRef.current).attr(\"width\", w).attr(\"height\", h) // .style(\"background-color\", \"fcfcfc\")\n    .attr(\"fill\", \"orange\").style(\"float\", \"right\");\n    const tooldiv = d3.select(\"#shapeViz\").append(\"div\").style(\"visibility\", \"hidden\").style(\"position\", \"absolute\");\n    svg.selectAll(\".shapes\").data(allShapes).enter().append(\"g\").attr(\"class\", \"shapes\").attr(\"id\", (d, i) => {\n      return d.name;\n    }).attr(\"transform\", function (d, i, j) {\n      var remainder = i % numCols; //calculates the x position (column number) using modulus\n\n      var whole = Math.floor(i / numCols); //calculates the y position (row number)\n\n      return \"translate(\" + (xPadding + remainder * wBuffer) + \",\" + (yPadding + whole * hBuffer) + \")\";\n    }).on(\"mouseover\", (e, d) => {\n      // console.log(e,d)\n      tooldiv.style(\"visibility\", \"visible\").text(`${d.name}`).style(\"color\", \"red\").attr(\"font-weight\", \"bolder\");\n    }).on(\"mousemove\", (e, d) => {\n      tooldiv.style(\"top\", e.pageY - 10 + \"px\").style(\"left\", e.pageX + 10 + \"px\");\n    }).on(\"mouseout\", (e, d) => {\n      tooldiv.style(\"visibility\", \"hidden\");\n    }).append(\"svg:image\").attr(\"width\", 28).attr(\"height\", 28).attr(\"opacity\", 1).attr(\"xlink:href\", function (d) {\n      return d.sprite;\n    });\n  }, [isSorting]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"shapeViz\",\n      children: allShapes.length > 0 && /*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: svgRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 36\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ShapeViz, \"mWh/x+/vi/+BzwGv3aPoBCtcGRQ=\");\n\n_c = ShapeViz;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShapeViz\");","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","useFetch","create","ShapeViz","currentContent","currentShift","svgRef","shapeSprites","error","setError","isLoading","setLoading","shapes","setShapes","allShapes","setAllShapes","isLoadingEachData","setLoadingEachData","isSorting","setSorting","console","log","getShapes","res","fetch","ok","Error","data","json","getShapeCount","result","forEach","shape","index","name","currentList","count","pokemon_species","length","sprite","sort","a","b","results","err","message","select","current","selectAll","transition","attr","notCurrent","filter","d","i","each","delay","duration","reduce","acc","push","w","h","numRows","numCols","xPadding","yPadding","hBuffer","wBuffer","svg","style","tooldiv","append","enter","j","remainder","whole","Math","floor","on","e","text","pageY","pageX","textAlign"],"sources":["/Users/cindyli/Downloads/pokemon2/my-app/src/components/ShapeViz.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport useFetch from \"../useFetch\";\nimport { create } from \"d3\";\n\nexport default function ShapeViz({ currentContent,currentShift }) {\n  const svgRef = useRef();\n  const shapeSprites = [\n    \"https://archives.bulbagarden.net/media/upload/thumb/1/17/Body01.png/32px-Body01.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/7/7a/Body02.png/32px-Body02.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/d/d3/Body03.png/32px-Body03.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/2/2c/Body04.png/32px-Body04.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/d/da/Body05.png/32px-Body05.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/8/88/Body06.png/32px-Body06.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/b/bc/Body07.png/32px-Body07.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/c/cc/Body08.png/32px-Body08.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/9/98/Body09.png/32px-Body09.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/9/97/Body10.png/32px-Body10.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/3/36/Body11.png/32px-Body11.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/4/45/Body12.png/32px-Body12.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/0/09/Body13.png/32px-Body13.png\",\n    \"https://archives.bulbagarden.net/media/upload/thumb/4/4b/Body14.png/32px-Body14.png\",\n  ];\n  const [error, setError] = useState(null);\n  const [isLoading, setLoading] = useState(true);\n  const [shapes, setShapes] = useState([]);\n  const [allShapes, setAllShapes] = useState([]);\n  const [isLoadingEachData, setLoadingEachData] = useState(true);\n  const [isSorting, setSorting] = useState(true);\n  // const [shiftUpCount,setShiftUpCount] = useState(1);\n  console.log(currentContent);\n  const getShapes = async () => {\n    try {\n      const res = await fetch(`https://pokeapi.co/api/v2/pokemon-shape/`);\n      if (!res.ok) {\n        throw Error(\"could not fetch data\");\n      }\n      const data = await res.json();\n\n      function getShapeCount(result) {\n        console.log(\"how many times\");\n        result.forEach(async (shape, index) => {\n          const res = await fetch(\n            `https://pokeapi.co/api/v2/pokemon-shape/${shape.name}`\n          );\n          const data = await res.json();\n          // console.log(data);\n          setShapes((currentList) => {\n            currentList = [\n              ...currentList,\n              {\n                name: data.name,\n                count: data.pokemon_species.length,\n                sprite: shapeSprites[index],\n              },\n            ];\n            currentList.sort((a, b) => (a.count < b.count ? 1 : -1));\n            return currentList;\n          });\n        });\n        console.log(shapes);\n        setLoadingEachData(false);\n      }\n      getShapeCount(data.results);\n      setLoading(false);\n      setError(null);\n    } catch (err) {\n      setLoading(false);\n      setError(err.message);\n    }\n  };\n\n  useEffect(() => {\n    console.log(currentContent);\n    console.log(\"before get shapes\");\n    getShapes();\n  }, []);\n  useEffect(() => {\n    console.log(currentContent);\n    if (currentContent != \"noSelection\") {\n      d3.select(svgRef.current)\n        .selectAll(\".shapes\")\n        .transition()\n        .attr(\"opacity\", 1);\n      // d3.select(svgRef.current).selectAll(`.shapes:not(${currentContent})`).transition().attr('opacity',0.4)\n      var notCurrent = d3.select(svgRef.current).selectAll(\".shapes\").filter(function (d, i) {\n        // console.log(d)\n        return d.name != currentContent;\n      });\n\n      notCurrent.each(function (d, i) {\n        d3.select(this).transition().delay(100).duration(1000).attr(\"opacity\", 0.2);\n      });\n      d3.select(svgRef.current).transition().delay(100).duration(2500).attr(\"transform\",(d,i)=>{\n        return \"translate(0,\"+currentShift+\")\"\n      });\n      // if (currentContent == 'humanoid' || currentContent =='wings'|| currentContent =='arms'){\n      //   console.log(\"shifting\")\n      //   d3.select(svgRef.current).transition().delay(100).duration(2500).attr(\"transform\",(d,i)=>{\n      //     // console.log(d,i)\n      //     let shiftY = 200*shiftUpCount\n      //     setShiftUpCount(shiftUpCount+1)\n      //     console.log('new shift count', shiftUpCount)\n      //     return \"translate(0,-\"+shiftY+\")\"\n      //   });\n      // }\n      \n\n    } else {\n      d3.select(svgRef.current)\n        .selectAll(\".shapes\")\n        .transition()\n        .attr(\"opacity\", 1);\n    }\n  }, [currentContent]);\n\n  useEffect(() => {\n    console.log(shapes);\n    console.log(isLoadingEachData);\n    if (isLoadingEachData == false && shapes.length == 14) {\n      // const sortedShapes = shapes.sort(\n      //   (a, b) => parseFloat(b.count) - parseFloat(a.count)\n      // );\n      // console.log(sortedShapes);\n      setAllShapes(\n        shapes.reduce((acc, d) => {\n          for (let i = 0; i < d.count; i++) {\n            acc.push(d);\n          }\n          return acc;\n        }, [])\n      );\n      setSorting(false);\n    }\n  }, [isLoadingEachData, shapes]);\n  useEffect(() => {\n    console.log(\"making svg\");\n    console.log(allShapes);\n    // console.log(totalShapes)\n    const w = 1000;\n    const h = 4000;\n    const numRows = 50;\n    const numCols = 25;\n    //padding for the grid\n    var xPadding = 10;\n    var yPadding = 15;\n\n    //horizontal and vertical spacing between the icons\n    var hBuffer = 40;\n    var wBuffer = 40;\n    const svg = d3\n      .select(svgRef.current)\n      .attr(\"width\", w)\n      .attr(\"height\", h)\n      // .style(\"background-color\", \"fcfcfc\")\n      .attr(\"fill\", \"orange\")\n      .style(\"float\", \"right\");\n    const tooldiv = d3\n      .select(\"#shapeViz\")\n      .append(\"div\")\n      .style(\"visibility\", \"hidden\")\n      .style(\"position\", \"absolute\");\n    svg\n      .selectAll(\".shapes\")\n      .data(allShapes)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"shapes\")\n      .attr(\"id\", (d, i) => {\n        return d.name;\n      })\n      .attr(\"transform\", function (d, i, j) {\n        var remainder = i % numCols; //calculates the x position (column number) using modulus\n        var whole = Math.floor(i / numCols); //calculates the y position (row number)\n        return (\n          \"translate(\" +\n          (xPadding + remainder * wBuffer) +\n          \",\" +\n          (yPadding + whole * hBuffer) +\n          \")\"\n        );\n      })\n      .on(\"mouseover\", (e, d) => {\n        // console.log(e,d)\n        tooldiv\n          .style(\"visibility\", \"visible\")\n          .text(`${d.name}`)\n          .style(\"color\", \"red\")\n          .attr(\"font-weight\", \"bolder\");\n      })\n      .on(\"mousemove\", (e, d) => {\n        tooldiv\n          .style(\"top\", e.pageY - 10 + \"px\")\n          .style(\"left\", e.pageX + 10 + \"px\");\n      })\n      .on(\"mouseout\", (e, d) => {\n        tooldiv.style(\"visibility\", \"hidden\");\n      })\n      .append(\"svg:image\")\n      .attr(\"width\", 28)\n      .attr(\"height\", 28)\n      .attr(\"opacity\", 1)\n      .attr(\"xlink:href\", function (d) {\n        return d.sprite;\n      });\n  }, [isSorting]);\n  return (\n    <>\n      {error && <div>{error}</div>}\n      {isLoading && <div style={{ textAlign: \"center\" }}>Loading...</div>}\n      {/* {console.log(isLoading)} */}\n      {!isLoading && (\n        <div id=\"shapeViz\">\n          {/* {console.log(isLoading)} */}\n          {allShapes.length > 0 && <svg ref={svgRef}></svg>}\n          {/* {console.log(\"shapes \", shapes)} */}\n          {/* {console.log(\"allshapes\", allShapes)} */}\n        </div>\n      )}\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}